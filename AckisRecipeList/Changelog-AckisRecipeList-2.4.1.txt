tag 2.4.1
0e7b81cbcf8f84cedb8c2083641c651fe7287bb1
John Pasula <ackis@shaw.ca>
2012-09-24 13:51:34 -0600

Tagging as 2.4.1


--------------------

Ressy:
	- Add missed PreviousRankID for Fur Lining - Int
	- Update Wembil Taskwidget
John Pasula:
	- Fix for issue when user knows a profession but no specialization.  We could probably clean up specialization detection by using specilizationOffset and specializationIndex now.
Ressy:
	- Completed Tailoring
	- Last Item IDs for JC
	- Final pass of Smelting
	- Final pass of Leatherworking
	- Final pass of Inscription
	- Final pass of Engineering
	- Add Jewelcrafting vendor Final pass of JC
	- Jewelcrafting
	- Missed localization phrases for JC
	- Jewelcrafting complete New filters (mount & pet), new discovery method New recipes
	- New Inscription filter for Pets
	- Inscription updates
	- Missed setting to get Monk filter working
	- Add required info for Monk filters to work
	- Fix typo in Vendor name + localization
	- - Inscription - Trainers, discovery, localization - in progress
	- First Aid completed Recipes, Trainers, and localization
	- Engineering complete Added Trainer, localization
	- Enchanting complete Added Vendor, Trainer, localization
	- Blacksmithing completed Localizations, Vendors & Trainer added
	- Additional flags for Alchemy Alchemy completed
James D. Callahan III:
	- Add TextDump:Clear() to the places I converted before the Clear method existed.
Ressy:
	- Cooking completed - Recipes, trainers & vendors
James D. Callahan III:
	- Changed the scanning/dumping facilities to use the new TextDump mechanism and ended up refactoring much of the tooltip-scanning code.
	- Ported the TextDump code from Collectinator and modified it to have a :Clear() method instead of self-clearing when displayed.
Ressy:
	- Leatherworking 2nd pass complete, should be completed now
	- Tailoring updates Trainer updates, manually added vendor recipes Added Smelting trainer
John Pasula:
	- ToC Update.
Ressy:
	- Add custom string, update localization
	- Fix strings
James D. Callahan III:
	- Though I don't agree with Ackis's naming strategy, the fucking faction string entries should MATCH THEM.
	- Lua. You do not know it. Stop fucking with it.
mike:
	- add the new factions as faction strings, to.. well..FACTION_STRINGS
John Pasula:
	- Add MoP Rep's to the Rep DB.
	- Revert faction hack because the library was updated.
mike:
	- Dump Blacksmithing after auto-adding trainable recipes and had it fill in some of the data in their entries ...  Torhal|work is da man!
Ressy:
	- Missed Tailoring for Z.<zone name> update. Add vendor Add localization strings for new vendor/trainer names
	- Update Trainers to use Z.<zonename> to hopefully fix ruRU issue
mike:
	- clean up the db files (reverse-merged from commit 4907948d15fa055a0fceccfffb2e1e9ad4956b37)
	- clean up the db files
	- update loc app
James D. Callahan III:
	- Added AZSHARA, THE_EXODAR, GILNEAS, ULDAMAN, and WAILING_CAVERNS to private.ZONE_NAMES
Ressy:
	- Add Zones to Constants Add recipes in skeleton form - will need to go rescan trainers Add 2 cooking Vendors
James D. Callahan III:
	- Dump trainer locations in label format - since we're no longer using LibBabble-Zone, English zone names don't do the rest of the world any good (and are likely why the Russians are suddenly having question marks in their tooltips…)
	- Rewrote the trainer scanning code to actually make sense and work much better.
	- If a recipe is missing from the DB when performing a scan, don't complain (unless it's a user version) - add the recipe to the appropriate profession.
	- Added nil-check for recipe flags in recipe:Dump() - auto-added recipes will have no flags.
	- Fixed PROFESSION_NAME_MAP.
	- Map the names of the Pandaren Cooking spells to the name of the actual Cooking spell, since GetTrainerServiceSkillLine(1) will return things like "Way of the Wok".
	- When a new trainer is found, add their name to the localization phrases and tell the dev to run a phrase dump in addition to the trainer dump (/script ARL:DumpPhrases())
John Pasula:
	- Revert a revert.
	- Add a work around for the BFAC issue, fixes a dry-code error too.
	- Add MoP factions.  UI elements are commented out due to BabbleFaction not being updated.
Ressy:
	- Update Exodar trainers Add Azuremyst Isle trainer "Iranis Shadebloom" Add Teldrassil trainer "Valn" - missed on previous scan Add a bunch of missing RecipeIDs
mike:
	- Update the localization app, yo.
Ressy:
	- Added Leatherworking info for MoP (commented out) Added Golden Lotus to faction (commented out) Added 'Clean Pelt' - MoP leatherworking Trainer (commented out) Added BMAH strings
	- Re-add Hama, Tailoring Trainer Re-add Lebowski, Engineering Trainer Add new recipes to Hama
	- Adding all MoP Alchemy recipes (commented out in preparation) Added Alchemy Trainer Poisoncrafter Kil'zit (commented out) Added Discovery text
James D. Callahan III:
	- Upped delay before scanning to two seconds, but only if the profession had to be loaded first.
	- Moved EXPANSION_FILTERS into Constants.lua and made it self-updating when a new version is added.
Ressy:
	- Outland trainers & vendors - alliance & neutral only - includes Shat scan, Scryers side. Removed 2 trainers who were converted to vendor only. Added 1 of the removed trainers to the vendor list, other was already there.
James D. Callahan III:
	- Cleaned up profession scanning/dumping code - only load the required profession instead of all of them, and add a 0.1 second wait before performing a scan to ensure all Recipe and Crafted items are in WoW's cache.
	- Call GetItemInfo() when setting a recipe's RecipeItemID and CraftedItemID to pull the information into WoW's cache.
	- Added AceTimer-3.0
	- No need to load every profession when ScanTooltipRecipe is called - the relevant profession(s) are already loaded at that point.
	- Added MOB_DROP and WORLD_DROP to the flag check to warn about missing recipe item IDs when doing a profession scan.
	- Removed debug warnings about missing recipe item IDs when building the RECIPE_ITEM_TO_SPELL_MAP - this is already handled in profession dumps.
Ressy:
	- Added receipe item for Vial of the Sands
James D. Callahan III:
	- Initialize lookup lists if needed whenever a profession is initialized.
mike:
	- Add crafted item id for Abyssal Shatter
James D. Callahan III:
	- Initialize private.current_profession_specialty to nil regardless of anything. Do not check for specialties in a profession if it isn't registered in the SpecialtiesTable - hopefully fixes the 5.0.4+ issue where GetSpellBookItemName() freaks out.
	- Re-ordered a block of code.
	- Use the pre-existing localized name for Engineering when constructing the specialties table.
	- Rewrote the profession-cycler button's OnClick so I didn't have seizures every time I stumbled across it.
	- MainPanel.profession --> MainPanel.current_profession
	- Re-generated development localizations via DumpPhrases().
	- Changed load order for localization files and cross-ported add-on:DumpPhrases() from the 2.0 branch of Collectinator.
mike:
	- Draela -> Draelan
	- Stupid Inscription, Glyph of Barkskin from NIR now
	- added "Draela" to the localization app
	- Added a new mob to the Mob db: Bash'ir Arcanist and added the mob ID to the Enchant Weapon - Major Spellpower
James D. Callahan III:
	- Comment out code (for possible later reuse) that removes the VENDOR flag from recipes where REPUTATION is set since there are edge-cases where this is valid.
mike:
	- Datamined the Jewelcrafting Supplies vendor: Anuur
James D. Callahan III:
	- Got rid of the "REMOVED_FROM_GAME" and F.RETIRED for 10 recipes which are sold by Tiffany Cartier in Dalaran.
	- Cleanup private:AddListEntry()
Ressy:
	- Fixing trainer adds
	- Alliance - Darnassus + Teldrassil
	- Northrend Alliance + Dalaran
James D. Callahan III:
	- Removed a silly non-necessary iteration when all that was required was a simple lookup.
	- Changed trainer scanning to only load recipes from that trainer's profession rather than loading _all_ professions so we're not loading things we don't need. Use the profession_recipe_list for the trainer's profession as well to remove a check on the recipe's profession.
	- Fixed two calls to Debug which referred to recipe_prototype instead of add-on.
Ressy:
	- Recipe removed from trainer
	- Alchemist's Flask
	- Stormwind/Elwynn Forest
mike:
	- Added the IDs to a few <Guild Vendor>'s to the respected recipes that they sell
	- Added a new trainer who trains in a few professions: Wembil Taskwidget
	- Added a new Jewelcrafting Trainer to that database: Hanner Gembold
Ressy:
	- Dun Morough
John Pasula:
	- Update alchemy - Apothecary  Bressa.
	- Update blacksmith recipes.
mike:
	- manually revert the recent changes to engineering db file
Ressy:
	- Stormwind/Ironforge changes
mike:
	- Updated the entries for the Engineering recipes: Accurate Scope and Fused Wiring
James D. Callahan III:
	- Localization for new Vandor
Ressy:
	- Jewelcrafting trainer update
	- Updated Alchemy trainer
James D. Callahan III:
	- Added lookup of zone info by name.
	- Why the hell was this function so complicated?
	- Whoops. Remove LibBabble-Zone-3.0 from .pkgmeta
	- Most of the boss names are now pulled from the Encounter Journal rather than LibBabble-Boss-3.0 - those that remain either have not been added yet (Karazhan) or are not considered bosses by Blizzard.
	- Added missing entry for Darkshore.
	- Dump recipe World Drop locations as their label.
	- Moved all (known) developer utility functions to Utilities.lua
	- Added missing entry for Deepholm.
	- LibBabble-Zone completely removed.
	- Update for ChangeLog
	- Changed method of zone name lookup, added support for continent names, and converted two more files away from LibBabble-Zone-3.0
mike:
	- Removed 2 mobs from the Mob database that were not associated with any recipes in any professions
	- Datamine Scan/Dump the Enchanting, Leatherworking, Cooking, and Alchemy databases
James D. Callahan III:
	- Since custom entries don't always have an associated zone, account for that.
	- Replaced usage of LibBabble-Zone with GetMapNameByID for custom string entries.
	- More dataminer tweaks
	- Another tweak to responsiveness for searching.
mike:
	- Removed the Resistance Armor Kits in the Leatherworking database since they were removed, and removed the mobs that used to be associated with those recipes
	- Added a bunch of recipes from various professions that have multiple ranks where it auto-updates it when you reach a certain skill level of that profession
James D. Callahan III:
	- Added new patterns for the data miner. Fixes rage potions, Barbaric Belt, Blade Ward, and some cooking recipes.
	- Logic fix.
	- Typo fix.
	- Removed SPELL_OVERWRITE_MAP - now check for recipe:PreviousRankID() instead.
	- Recipe dumps will now include recipe:SetPreviousRankID() where appropriate.
	- Updated Leatherworking and Tailoring recipes to use recipe:SetPreviousRankID()
	- Added recipe_prototype methods SetPreviousRankID and PreviousRankID; this is much cleaner (as a one-to-one mapping) than maintaining a monolithic SPELL_OVERWRITE_MAP.
	- Display tweak.
	- Actually remove the textures…
	- Removed the profession textures we were shipping with in favor of SetPortraitToTexture() and GetTradeSkillTexture()
	- Use BOOKTYPE_PROFESSION rather than "profession".
	- Made the search box inherit from SearchBoxTemplate.
	- Made search-on-type more responsive.
	- ChangeLog update.
